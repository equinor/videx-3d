import{j as n}from"./jsx-runtime-CmIOflP4.js";import{r as a}from"./index-KqYmeiyw.js";import{u as U,a as A,b as N}from"./useWellboreContext-DkvsaS95.js";import{q as P}from"./limiter-DhBcc_yH.js";import{c as W,L as Y}from"./layers-DoaKWXpU.js";import{b as m}from"./CameraManager-BuezL_By.js";const z="casings",C=a.forwardRef(({name:c,userData:E,renderOrder:S=2,layers:D=W(Y.OCCLUDER),position:x,visible:R,castShadow:j,receiveShadow:w,customMaterial:i,customDepthMaterial:L,customDistanceMaterial:_,onMaterialPropertiesChange:u,radialSegments:f=16,sizeMultiplier:p=1,shoeFactor:y=1,segmentsPerMeter:b=.1,simplificationThreshold:g=0,opacity:h=1,fallback:q,priority:V=0},k)=>{const{id:l,fromMsl:M}=U(),s=A(z),[r,G]=a.useState(null),[O,F]=a.useState(!1),d=a.useMemo(()=>i||[new m({color:"black",metalness:0,roughness:1}),new m({color:"#555",metalness:1,roughness:.5,transparent:!0,opacity:1}),new m({color:"#9a9a98",metalness:1,roughness:.5,transparent:!0,opacity:1})],[i]),v=a.useMemo(()=>u||((e,t)=>{const o=t;o[1].opacity=e.opacity,o[2].opacity=e.opacity}),[u]);return a.useEffect(()=>{v({opacity:h},d)},[h,d,v]),a.useEffect(()=>{s&&l&&P(()=>s(l,M,f,p,y,b,g).then(e=>{G(t=>(t&&t.dispose(),e!=null&&e.geometry?N(e.geometry):null)),e||F(!0)}),V)},[s,l,M,f,p,y,b,g,V]),n.jsxs("group",{ref:k,name:c,userData:E,renderOrder:S,visible:R,position:x,children:[r&&n.jsx(n.Fragment,{children:n.jsx("group",{children:r&&n.jsx("mesh",{geometry:r,material:d,layers:D,castShadow:j,receiveShadow:w,customDepthMaterial:L,customDistanceMaterial:_},r.uuid)})}),O&&q&&q()]})});try{C.displayName="Casings",C.__docgenInfo={description:"Generic render of casings based on depths, diameters and type. Must be a child of the `Wellbore` component.",displayName:"Casings",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string | undefined"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean | undefined"}},userData:{defaultValue:null,description:"",name:"userData",required:!1,type:{name:"Record<string, any> | undefined"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"Vec3 | undefined"}},castShadow:{defaultValue:null,description:"",name:"castShadow",required:!1,type:{name:"boolean | undefined"}},receiveShadow:{defaultValue:null,description:"",name:"receiveShadow",required:!1,type:{name:"boolean | undefined"}},renderOrder:{defaultValue:{value:"2"},description:"",name:"renderOrder",required:!1,type:{name:"number | undefined"}},layers:{defaultValue:{value:"createLayers(LAYERS.OCCLUDER)"},description:"",name:"layers",required:!1,type:{name:"Layers | undefined"}},customMaterial:{defaultValue:null,description:"",name:"customMaterial",required:!1,type:{name:"Material | Material[] | undefined"}},customDepthMaterial:{defaultValue:null,description:"",name:"customDepthMaterial",required:!1,type:{name:"Material | undefined"}},customDistanceMaterial:{defaultValue:null,description:"",name:"customDistanceMaterial",required:!1,type:{name:"Material | undefined"}},onMaterialPropertiesChange:{defaultValue:null,description:"",name:"onMaterialPropertiesChange",required:!1,type:{name:"((props: Record<string, any>, material: Material | Material[]) => void) | undefined"}},fallback:{defaultValue:null,description:"",name:"fallback",required:!1,type:{name:"(() => ReactElement<Object3D<Object3DEventMap>, string | JSXElementConstructor<any>>) | undefined"}},radialSegments:{defaultValue:{value:"16"},description:"",name:"radialSegments",required:!1,type:{name:"number | undefined"}},sizeMultiplier:{defaultValue:{value:"1"},description:"",name:"sizeMultiplier",required:!1,type:{name:"number | undefined"}},shoeFactor:{defaultValue:{value:"1"},description:"",name:"shoeFactor",required:!1,type:{name:"number | undefined"}},segmentsPerMeter:{defaultValue:{value:"0.1"},description:"",name:"segmentsPerMeter",required:!1,type:{name:"number | undefined"}},simplificationThreshold:{defaultValue:{value:"0"},description:"",name:"simplificationThreshold",required:!1,type:{name:"number | undefined"}},opacity:{defaultValue:{value:"1"},description:"",name:"opacity",required:!1,type:{name:"number | undefined"}},priority:{defaultValue:{value:"0"},description:"",name:"priority",required:!1,type:{name:"number | undefined"}}}}}catch{}export{C};
