var sr=Object.defineProperty;var or=(r,a,o)=>a in r?sr(r,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[a]=o;var lt=(r,a,o)=>or(r,typeof a!="symbol"?a+"":a,o);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ln=Symbol("Comlink.proxy"),fr=Symbol("Comlink.endpoint"),ur=Symbol("Comlink.releaseProxy"),It=Symbol("Comlink.finalizer"),pt=Symbol("Comlink.thrown"),dn=r=>typeof r=="object"&&r!==null||typeof r=="function",cr={canHandle:r=>dn(r)&&r[ln],serialize(r){const{port1:a,port2:o}=new MessageChannel;return Ft(r,a),[o,[o]]},deserialize(r){return r.start(),pr(r)}},lr={canHandle:r=>dn(r)&&pt in r,serialize({value:r}){let a;return r instanceof Error?a={isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:a={isError:!1,value:r},[a,[]]},deserialize(r){throw r.isError?Object.assign(new Error(r.value.message),r.value):r.value}},gn=new Map([["proxy",cr],["throw",lr]]);function dr(r,a){for(const o of r)if(a===o||o==="*"||o instanceof RegExp&&o.test(a))return!0;return!1}function Ft(r,a=globalThis,o=["*"]){a.addEventListener("message",function l(c){if(!c||!c.data)return;if(!dr(o,c.origin)){console.warn(`Invalid origin '${c.origin}' for comlink proxy`);return}const{id:d,type:y,path:A}=Object.assign({path:[]},c.data),m=(c.data.argumentList||[]).map(z);let h;try{const w=A.slice(0,-1).reduce((b,F)=>b[F],r),S=A.reduce((b,F)=>b[F],r);switch(y){case"GET":h=S;break;case"SET":w[A.slice(-1)[0]]=z(c.data.value),h=!0;break;case"APPLY":h=S.apply(w,m);break;case"CONSTRUCT":{const b=new S(...m);h=wr(b)}break;case"ENDPOINT":{const{port1:b,port2:F}=new MessageChannel;Ft(r,F),h=Rt(b,[b])}break;case"RELEASE":h=void 0;break;default:return}}catch(w){h={value:w,[pt]:0}}Promise.resolve(h).catch(w=>({value:w,[pt]:0})).then(w=>{const[S,b]=_t(w);a.postMessage(Object.assign(Object.assign({},S),{id:d}),b),y==="RELEASE"&&(a.removeEventListener("message",l),pn(a),It in r&&typeof r[It]=="function"&&r[It]())}).catch(w=>{const[S,b]=_t({value:new TypeError("Unserializable return value"),[pt]:0});a.postMessage(Object.assign(Object.assign({},S),{id:d}),b)})}),a.start&&a.start()}function gr(r){return r.constructor.name==="MessagePort"}function pn(r){gr(r)&&r.close()}function pr(r,a){const o=new Map;return r.addEventListener("message",function(c){const{data:d}=c;if(!d||!d.id)return;const y=o.get(d.id);if(y)try{y(d)}finally{o.delete(d.id)}}),Lt(r,o,[],a)}function dt(r){if(r)throw new Error("Proxy has been released and is not useable")}function hn(r){return Y(r,new Map,{type:"RELEASE"}).then(()=>{pn(r)})}const ht=new WeakMap,yt="FinalizationRegistry"in globalThis&&new FinalizationRegistry(r=>{const a=(ht.get(r)||0)-1;ht.set(r,a),a===0&&hn(r)});function hr(r,a){const o=(ht.get(a)||0)+1;ht.set(a,o),yt&&yt.register(r,a,r)}function yr(r){yt&&yt.unregister(r)}function Lt(r,a,o=[],l=function(){}){let c=!1;const d=new Proxy(l,{get(y,A){if(dt(c),A===ur)return()=>{yr(d),hn(r),a.clear(),c=!0};if(A==="then"){if(o.length===0)return{then:()=>d};const m=Y(r,a,{type:"GET",path:o.map(h=>h.toString())}).then(z);return m.then.bind(m)}return Lt(r,a,[...o,A])},set(y,A,m){dt(c);const[h,w]=_t(m);return Y(r,a,{type:"SET",path:[...o,A].map(S=>S.toString()),value:h},w).then(z)},apply(y,A,m){dt(c);const h=o[o.length-1];if(h===fr)return Y(r,a,{type:"ENDPOINT"}).then(z);if(h==="bind")return Lt(r,a,o.slice(0,-1));const[w,S]=cn(m);return Y(r,a,{type:"APPLY",path:o.map(b=>b.toString()),argumentList:w},S).then(z)},construct(y,A){dt(c);const[m,h]=cn(A);return Y(r,a,{type:"CONSTRUCT",path:o.map(w=>w.toString()),argumentList:m},h).then(z)}});return hr(d,r),d}function _r(r){return Array.prototype.concat.apply([],r)}function cn(r){const a=r.map(_t);return[a.map(o=>o[0]),_r(a.map(o=>o[1]))]}const yn=new WeakMap;function Rt(r,a){return yn.set(r,a),r}function wr(r){return Object.assign(r,{[ln]:!0})}function _t(r){for(const[a,o]of gn)if(o.canHandle(r)){const[l,c]=o.serialize(r);return[{type:"HANDLER",name:a,value:l},c]}return[{type:"RAW",value:r},yn.get(r)||[]]}function z(r){switch(r.type){case"HANDLER":return gn.get(r.name).deserialize(r.value);case"RAW":return r.value}}function Y(r,a,o,l){return new Promise(c=>{const d=br();a.set(d,c),r.start&&r.start(),r.postMessage(Object.assign({id:d},o),l)})}function br(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dt={exports:{}};(function(r,a){var o=200,l="Expected a function",c="__lodash_hash_undefined__",d=1,y=2,A=9007199254740991,m="[object Arguments]",h="[object Array]",w="[object Boolean]",S="[object Date]",b="[object Error]",F="[object Function]",_n="[object GeneratorFunction]",Z="[object Map]",Nt="[object Number]",B="[object Object]",Ht="[object Promise]",Gt="[object RegExp]",Q="[object Set]",Ut="[object String]",jt="[object Symbol]",wt="[object WeakMap]",$t="[object ArrayBuffer]",V="[object DataView]",wn="[object Float32Array]",bn="[object Float64Array]",mn="[object Int8Array]",En="[object Int16Array]",An="[object Int32Array]",vn="[object Uint8Array]",Sn="[object Uint8ClampedArray]",Tn="[object Uint16Array]",Cn="[object Uint32Array]",On=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pn=/^\w*$/,xn=/^\./,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,In=/[\\^$.*+?()[\]{}|]/g,Ln=/\\(\\)?/g,Rn=/^\[object .+?Constructor\]$/,Dn=/^(?:0|[1-9]\d*)$/,g={};g[wn]=g[bn]=g[mn]=g[En]=g[An]=g[vn]=g[Sn]=g[Tn]=g[Cn]=!0,g[m]=g[h]=g[$t]=g[w]=g[V]=g[S]=g[b]=g[F]=g[Z]=g[Nt]=g[B]=g[Gt]=g[Q]=g[Ut]=g[wt]=!1;var Wt=typeof gt=="object"&&gt&&gt.Object===Object&&gt,Fn=typeof self=="object"&&self&&self.Object===Object&&self,N=Wt||Fn||Function("return this")(),zt=a&&!a.nodeType&&a,Bt=zt&&!0&&r&&!r.nodeType&&r,Nn=Bt&&Bt.exports===zt,Kt=Nn&&Wt.process,Xt=function(){try{return Kt&&Kt.binding("util")}catch{}}(),Yt=Xt&&Xt.isTypedArray;function Hn(t,n){for(var e=-1,i=t?t.length:0,f=0,s=[];++e<i;){var u=t[e];n(u,e,t)&&(s[f++]=u)}return s}function Gn(t,n){for(var e=-1,i=t?t.length:0;++e<i;)if(n(t[e],e,t))return!0;return!1}function Un(t){return function(n){return n==null?void 0:n[t]}}function jn(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}function $n(t){return function(n){return t(n)}}function Wn(t,n){return t==null?void 0:t[n]}function bt(t){var n=!1;if(t!=null&&typeof t.toString!="function")try{n=!!(t+"")}catch{}return n}function zn(t){var n=-1,e=Array(t.size);return t.forEach(function(i,f){e[++n]=[f,i]}),e}function Bn(t,n){return function(e){return t(n(e))}}function Kn(t){var n=-1,e=Array(t.size);return t.forEach(function(i){e[++n]=i}),e}var Xn=Array.prototype,Yn=Function.prototype,k=Object.prototype,mt=N["__core-js_shared__"],qt=function(){var t=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Jt=Yn.toString,x=k.hasOwnProperty,K=k.toString,qn=RegExp("^"+Jt.call(x).replace(In,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=N.Symbol,Qt=N.Uint8Array,Jn=k.propertyIsEnumerable,Zn=Xn.splice,Qn=Bn(Object.keys,Object),Et=X(N,"DataView"),q=X(N,"Map"),At=X(N,"Promise"),vt=X(N,"Set"),St=X(N,"WeakMap"),J=X(Object,"create"),Vn=$(Et),kn=$(q),te=$(At),ne=$(vt),ee=$(St),tt=Zt?Zt.prototype:void 0,Tt=tt?tt.valueOf:void 0,Vt=tt?tt.toString:void 0;function j(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function re(){this.__data__=J?J(null):{}}function ae(t){return this.has(t)&&delete this.__data__[t]}function ie(t){var n=this.__data__;if(J){var e=n[t];return e===c?void 0:e}return x.call(n,t)?n[t]:void 0}function se(t){var n=this.__data__;return J?n[t]!==void 0:x.call(n,t)}function oe(t,n){var e=this.__data__;return e[t]=J&&n===void 0?c:n,this}j.prototype.clear=re,j.prototype.delete=ae,j.prototype.get=ie,j.prototype.has=se,j.prototype.set=oe;function M(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function fe(){this.__data__=[]}function ue(t){var n=this.__data__,e=et(n,t);if(e<0)return!1;var i=n.length-1;return e==i?n.pop():Zn.call(n,e,1),!0}function ce(t){var n=this.__data__,e=et(n,t);return e<0?void 0:n[e][1]}function le(t){return et(this.__data__,t)>-1}function de(t,n){var e=this.__data__,i=et(e,t);return i<0?e.push([t,n]):e[i][1]=n,this}M.prototype.clear=fe,M.prototype.delete=ue,M.prototype.get=ce,M.prototype.has=le,M.prototype.set=de;function I(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function ge(){this.__data__={hash:new j,map:new(q||M),string:new j}}function pe(t){return rt(this,t).delete(t)}function he(t){return rt(this,t).get(t)}function ye(t){return rt(this,t).has(t)}function _e(t,n){return rt(this,t).set(t,n),this}I.prototype.clear=ge,I.prototype.delete=pe,I.prototype.get=he,I.prototype.has=ye,I.prototype.set=_e;function nt(t){var n=-1,e=t?t.length:0;for(this.__data__=new I;++n<e;)this.add(t[n])}function we(t){return this.__data__.set(t,c),this}function be(t){return this.__data__.has(t)}nt.prototype.add=nt.prototype.push=we,nt.prototype.has=be;function L(t){this.__data__=new M(t)}function me(){this.__data__=new M}function Ee(t){return this.__data__.delete(t)}function Ae(t){return this.__data__.get(t)}function ve(t){return this.__data__.has(t)}function Se(t,n){var e=this.__data__;if(e instanceof M){var i=e.__data__;if(!q||i.length<o-1)return i.push([t,n]),this;e=this.__data__=new I(i)}return e.set(t,n),this}L.prototype.clear=me,L.prototype.delete=Ee,L.prototype.get=Ae,L.prototype.has=ve,L.prototype.set=Se;function Te(t,n){var e=G(t)||on(t)?jn(t.length,String):[],i=e.length,f=!!i;for(var s in t)x.call(t,s)&&!(f&&(s=="length"||en(s,i)))&&e.push(s);return e}function et(t,n){for(var e=t.length;e--;)if(sn(t[e][0],n))return e;return-1}var Ce=We(xe);function Oe(t,n){var e=[];return Ce(t,function(i,f,s){n(i,f,s)&&e.push(i)}),e}var Pe=ze();function xe(t,n){return t&&Pe(t,n,ft)}function kt(t,n){n=at(n,t)?[n]:tn(n);for(var e=0,i=n.length;t!=null&&e<i;)t=t[it(n[e++])];return e&&e==i?t:void 0}function Me(t){return K.call(t)}function Ie(t,n){return t!=null&&n in Object(t)}function Ct(t,n,e,i,f){return t===n?!0:t==null||n==null||!st(t)&&!ot(n)?t!==t&&n!==n:Le(t,n,Ct,e,i,f)}function Le(t,n,e,i,f,s){var u=G(t),_=G(n),p=h,E=h;u||(p=H(t),p=p==m?B:p),_||(E=H(n),E=E==m?B:E);var T=p==B&&!bt(t),C=E==B&&!bt(n),v=p==E;if(v&&!T)return s||(s=new L),u||tr(t)?nn(t,n,e,i,f,s):Be(t,n,p,e,i,f,s);if(!(f&y)){var O=T&&x.call(t,"__wrapped__"),P=C&&x.call(n,"__wrapped__");if(O||P){var U=O?t.value():t,R=P?n.value():n;return s||(s=new L),e(U,R,i,f,s)}}return v?(s||(s=new L),Ke(t,n,e,i,f,s)):!1}function Re(t,n,e,i){var f=e.length,s=f;if(t==null)return!s;for(t=Object(t);f--;){var u=e[f];if(u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++f<s;){u=e[f];var _=u[0],p=t[_],E=u[1];if(u[2]){if(p===void 0&&!(_ in t))return!1}else{var T=new L,C;if(!(C===void 0?Ct(E,p,i,d|y,T):C))return!1}}return!0}function De(t){if(!st(t)||Je(t))return!1;var n=fn(t)||bt(t)?qn:Rn;return n.test($(t))}function Fe(t){return ot(t)&&xt(t.length)&&!!g[K.call(t)]}function Ne(t){return typeof t=="function"?t:t==null?ar:typeof t=="object"?G(t)?Ue(t[0],t[1]):Ge(t):ir(t)}function He(t){if(!Ze(t))return Qn(t);var n=[];for(var e in Object(t))x.call(t,e)&&e!="constructor"&&n.push(e);return n}function Ge(t){var n=Xe(t);return n.length==1&&n[0][2]?an(n[0][0],n[0][1]):function(e){return e===t||Re(e,t,n)}}function Ue(t,n){return at(t)&&rn(n)?an(it(t),n):function(e){var i=er(e,t);return i===void 0&&i===n?rr(e,t):Ct(n,i,void 0,d|y)}}function je(t){return function(n){return kt(n,t)}}function $e(t){if(typeof t=="string")return t;if(Mt(t))return Vt?Vt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function tn(t){return G(t)?t:Qe(t)}function We(t,n){return function(e,i){if(e==null)return e;if(!Pt(e))return t(e,i);for(var f=e.length,s=-1,u=Object(e);++s<f&&i(u[s],s,u)!==!1;);return e}}function ze(t){return function(n,e,i){for(var f=-1,s=Object(n),u=i(n),_=u.length;_--;){var p=u[++f];if(e(s[p],p,s)===!1)break}return n}}function nn(t,n,e,i,f,s){var u=f&y,_=t.length,p=n.length;if(_!=p&&!(u&&p>_))return!1;var E=s.get(t);if(E&&s.get(n))return E==n;var T=-1,C=!0,v=f&d?new nt:void 0;for(s.set(t,n),s.set(n,t);++T<_;){var O=t[T],P=n[T];if(i)var U=u?i(P,O,T,n,t,s):i(O,P,T,t,n,s);if(U!==void 0){if(U)continue;C=!1;break}if(v){if(!Gn(n,function(R,W){if(!v.has(W)&&(O===R||e(O,R,i,f,s)))return v.add(W)})){C=!1;break}}else if(!(O===P||e(O,P,i,f,s))){C=!1;break}}return s.delete(t),s.delete(n),C}function Be(t,n,e,i,f,s,u){switch(e){case V:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case $t:return!(t.byteLength!=n.byteLength||!i(new Qt(t),new Qt(n)));case w:case S:case Nt:return sn(+t,+n);case b:return t.name==n.name&&t.message==n.message;case Gt:case Ut:return t==n+"";case Z:var _=zn;case Q:var p=s&y;if(_||(_=Kn),t.size!=n.size&&!p)return!1;var E=u.get(t);if(E)return E==n;s|=d,u.set(t,n);var T=nn(_(t),_(n),i,f,s,u);return u.delete(t),T;case jt:if(Tt)return Tt.call(t)==Tt.call(n)}return!1}function Ke(t,n,e,i,f,s){var u=f&y,_=ft(t),p=_.length,E=ft(n),T=E.length;if(p!=T&&!u)return!1;for(var C=p;C--;){var v=_[C];if(!(u?v in n:x.call(n,v)))return!1}var O=s.get(t);if(O&&s.get(n))return O==n;var P=!0;s.set(t,n),s.set(n,t);for(var U=u;++C<p;){v=_[C];var R=t[v],W=n[v];if(i)var un=u?i(W,R,v,n,t,s):i(R,W,v,t,n,s);if(!(un===void 0?R===W||e(R,W,i,f,s):un)){P=!1;break}U||(U=v=="constructor")}if(P&&!U){var ut=t.constructor,ct=n.constructor;ut!=ct&&"constructor"in t&&"constructor"in n&&!(typeof ut=="function"&&ut instanceof ut&&typeof ct=="function"&&ct instanceof ct)&&(P=!1)}return s.delete(t),s.delete(n),P}function rt(t,n){var e=t.__data__;return qe(n)?e[typeof n=="string"?"string":"hash"]:e.map}function Xe(t){for(var n=ft(t),e=n.length;e--;){var i=n[e],f=t[i];n[e]=[i,f,rn(f)]}return n}function X(t,n){var e=Wn(t,n);return De(e)?e:void 0}var H=Me;(Et&&H(new Et(new ArrayBuffer(1)))!=V||q&&H(new q)!=Z||At&&H(At.resolve())!=Ht||vt&&H(new vt)!=Q||St&&H(new St)!=wt)&&(H=function(t){var n=K.call(t),e=n==B?t.constructor:void 0,i=e?$(e):void 0;if(i)switch(i){case Vn:return V;case kn:return Z;case te:return Ht;case ne:return Q;case ee:return wt}return n});function Ye(t,n,e){n=at(n,t)?[n]:tn(n);for(var i,f=-1,u=n.length;++f<u;){var s=it(n[f]);if(!(i=t!=null&&e(t,s)))break;t=t[s]}if(i)return i;var u=t?t.length:0;return!!u&&xt(u)&&en(s,u)&&(G(t)||on(t))}function en(t,n){return n=n??A,!!n&&(typeof t=="number"||Dn.test(t))&&t>-1&&t%1==0&&t<n}function at(t,n){if(G(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||Mt(t)?!0:Pn.test(t)||!On.test(t)||n!=null&&t in Object(n)}function qe(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Je(t){return!!qt&&qt in t}function Ze(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||k;return t===e}function rn(t){return t===t&&!st(t)}function an(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==void 0||t in Object(e))}}var Qe=Ot(function(t){t=nr(t);var n=[];return xn.test(t)&&n.push(""),t.replace(Mn,function(e,i,f,s){n.push(f?s.replace(Ln,"$1"):i||e)}),n});function it(t){if(typeof t=="string"||Mt(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function $(t){if(t!=null){try{return Jt.call(t)}catch{}try{return t+""}catch{}}return""}function Ve(t,n){var e=G(t)?Hn:Oe;return e(t,Ne(n))}function Ot(t,n){if(typeof t!="function"||n&&typeof n!="function")throw new TypeError(l);var e=function(){var i=arguments,f=n?n.apply(this,i):i[0],s=e.cache;if(s.has(f))return s.get(f);var u=t.apply(this,i);return e.cache=s.set(f,u),u};return e.cache=new(Ot.Cache||I),e}Ot.Cache=I;function sn(t,n){return t===n||t!==t&&n!==n}function on(t){return ke(t)&&x.call(t,"callee")&&(!Jn.call(t,"callee")||K.call(t)==m)}var G=Array.isArray;function Pt(t){return t!=null&&xt(t.length)&&!fn(t)}function ke(t){return ot(t)&&Pt(t)}function fn(t){var n=st(t)?K.call(t):"";return n==F||n==_n}function xt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=A}function st(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function ot(t){return!!t&&typeof t=="object"}function Mt(t){return typeof t=="symbol"||ot(t)&&K.call(t)==jt}var tr=Yt?$n(Yt):Fe;function nr(t){return t==null?"":$e(t)}function er(t,n,e){var i=t==null?void 0:kt(t,n);return i===void 0?e:i}function rr(t,n){return t!=null&&Ye(t,n,Ie)}function ft(t){return Pt(t)?Te(t):He(t)}function ar(t){return t}function ir(t){return at(t)?Un(it(t)):je(t)}r.exports=Ve})(Dt,Dt.exports);var Er=Dt.exports,Ar=mr(Er);async function D(r){const a=await fetch(r,{method:"GET",credentials:"omit",headers:{Accept:"application/json","Content-Type":"application/json"}}),{status:o}=a;if([404,202,204].includes(o))return null;if(a.ok)return await a.json();throw new Error(a.toString())}async function vr(){const r=await D("/data/wellbore-headers.json");return Object.keys(r).forEach(a=>{const o=r[a].drilled?new Date(r[a].drilled):null;r[a].drilled=o}),r}async function Sr(){const r=await D("/data/position-logs.json");return Object.keys(r).reduce((a,o)=>{const l=r[o];return l&&(a[o]=new Float32Array(l)),a},{})}async function Tr(){return D("/data/casings.json")}async function Cr(){return D("/data/completion.json")}async function Or(){return D("/data/perforations.json")}async function Pr(){return D("/data/surface-meta.json")}async function xr(){return D("/data/strat-columns.json")}async function Mr(){return D("/data/picks.json")}class Ir{constructor(){lt(this,"loaders",{"position-logs":Sr,"wellbore-headers":vr,casings:Tr,"completion-tools":Cr,perforations:Or,picks:Mr,"surface-meta":Pr,"strat-columns":xr});lt(this,"data",{});lt(this,"activeLoaders",{})}async getDataCollection(a){if(this.data[a]===void 0)if(this.activeLoaders[a]!==void 0)await this.activeLoaders[a];else{const o=this.loaders[a];if(!o)throw Error("No loader registered for data type: "+a);const l=o().then(c=>{this.data[a]=c||{}}).finally(()=>{delete this.activeLoaders[a]});this.activeLoaders[a]=l,await l}return this.data[a]}async get(a,o){if(a==="surface-values"){const d=await D(`/data/surfaces/${o}.json`),y=new Float32Array(d);return y?Rt(y,[y.buffer]):null}const l=await this.getDataCollection(a),c=l&&l[o]?l[o]:null;if(c&&c instanceof Float32Array&&c.length>0){const d=new Float32Array(c);return Rt(d,[d.buffer])}return c}async set(a,o,l){return this.data[a]===void 0&&(this.data[a]={}),this.data[a][o]=l,!0}async all(a){const o=await this.getDataCollection(a);return o?Object.values(o):[]}async query(a,o){if(o){const l=await this.all(a);return l?Ar(l,o):[]}return this.all(a)}}const Lr=new Ir;Ft(Lr);
