<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>videx-3d</title><meta name="description" content="Documentation for videx-3d"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">videx-3d</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>videx-3d</h1></div><div class="tsd-panel tsd-typography"><a id="introduction" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Introduction<a href="#introduction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The purpose of this library is to help you add 3D visualizations of sub surface data to your web applications. It offers a paradigm for connecting data to React components, utilizing Three js and React Three Fiber.</p>
<p>The library includes a variety of components, both for visualizing and managing data, including:</p>
<ul>
<li>Wellbore trajectories</li>
<li>Wellbore data (such as casings, completion tools, picks, shoes etc.)</li>
<li>Horizons/surfaces</li>
<li>Generic support for pointer events (click, move, enter, exit)</li>
<li>A flexible point-feature label system</li>
<li>HTML well map schematic</li>
</ul>
<a id="overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library contains multiple exports:</p>
<ul>
<li><code>videx-3d</code> main export containing the components</li>
<li><code>videx-3d/sdk</code> shared code and declarations</li>
<li><code>videx-3d/generators</code> generator functions required by the included components</li>
</ul>
<a id="dependencies" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Dependencies<a href="#dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This library has dependencies to the following libs:</p>
<ul>
<li>React and react-dom</li>
<li>THREE js (javascript 3d rendering library using WebGL)</li>
<li>React Three Fiber (bridge React and THREE js)</li>
<li>Comlink (simplifies working with web workers)</li>
</ul>
<a id="install" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">videx</span><span class="hl-1">-3</span><span class="hl-0">d</span>
</code><button>Copy</button></pre>

<p>You also need to install the peer-dependicies:</p>
<pre><code><span class="hl-2">// react</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">react</span><span class="hl-1"> </span><span class="hl-0">react</span><span class="hl-1">-</span><span class="hl-0">dom</span><br/><br/><span class="hl-2">// three js</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">three</span><br/><br/><span class="hl-2">// react three fiber</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> @</span><span class="hl-0">react</span><span class="hl-1">-</span><span class="hl-0">three</span><span class="hl-1">/</span><span class="hl-0">fiber</span><br/><br/><span class="hl-2">// comlink</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">comlink</span>
</code><button>Copy</button></pre>

<a id="configure" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configure<a href="#configure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Rendering complex scenes in the browser (single threaded) can quickly become bottlenecked, degrading user experience. For this reason, components are generally dependant on external data management and processing, which can be offloaded to web workers (but not required).</p>
<p>The recommended setup is to run the data store implementation and generator registry in seperate web workers, and then pass a proxy for these instances to the respective providers. You need to use <a href="https://github.com/GoogleChromeLabs/comlink">Comlink</a> for this to work.</p>
<p>For example, assuming you have created a class <code>DataStore</code> (implementing the <code>Store</code> interface) you can <em>expose</em> an instance of this class so that it can be run in isolation by a web worker:</p>
<pre><code class="ts"><span class="hl-2">// set up worker endpoint: remote-store.ts</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">expose</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;comlink&#39;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">MyStore</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;./DataStore&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">DataStore</span><span class="hl-1">()</span><br/><br/><span class="hl-7">expose</span><span class="hl-1">(</span><span class="hl-0">store</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Then we do the same exercise for the <code>GeneratorRegistry</code>:</p>
<pre><code class="ts"><span class="hl-2">// set up registry endpoint: remote-registry.ts</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">registry</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">GeneratorRegistry</span><span class="hl-1">()</span><br/><br/><span class="hl-2">// add all the ganerators you need</span><br/><span class="hl-0">registry</span><span class="hl-1">.</span><span class="hl-7">add</span><span class="hl-1">(</span><span class="hl-4">&#39;generatorName&#39;</span><span class="hl-1">, </span><span class="hl-0">generatorFunction</span><span class="hl-1">)</span><br/><br/><span class="hl-7">expose</span><span class="hl-1">(</span><span class="hl-0">registry</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>We then need to create the workers and point them to the scripts we exposed using Comlink. Using the <code>wrap</code> function will do this for us and return a proxy class instance that we can pass to the respective providers:</p>
<pre><code class="tsx"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">DataProvider</span><span class="hl-1">, </span><span class="hl-0">Store</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;videx3d/sdk&#39;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">Remote</span><span class="hl-1">, </span><span class="hl-0">wrap</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;comlink&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1">: </span><span class="hl-8">Remote</span><span class="hl-1">&lt;</span><span class="hl-8">Store</span><span class="hl-1">&gt; = </span><span class="hl-7">wrap</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Worker</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">URL</span><span class="hl-1">(</span><span class="hl-4">&#39;workers/remote-store.ts&#39;</span><span class="hl-1">, </span><span class="hl-3">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">), { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-4">&#39;module&#39;</span><span class="hl-1">}))</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">registry</span><span class="hl-1">: </span><span class="hl-8">Remote</span><span class="hl-1">&lt;</span><span class="hl-8">Store</span><span class="hl-1">&gt; = </span><span class="hl-7">wrap</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Worker</span><span class="hl-1">(</span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">URL</span><span class="hl-1">(</span><span class="hl-4">&#39;workers/remote-registry.ts&#39;</span><span class="hl-1">, </span><span class="hl-3">import</span><span class="hl-1">.</span><span class="hl-0">meta</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">), { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-4">&#39;module&#39;</span><span class="hl-1">}))</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">ExampleApp</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-9">&lt;&gt;</span><br/><span class="hl-1">    </span><span class="hl-5">{</span><span class="hl-10"> </span><span class="hl-1">...</span><span class="hl-10"> </span><span class="hl-5">}</span><br/><span class="hl-1">    </span><span class="hl-9">&lt;</span><span class="hl-8">DataProvider</span><span class="hl-1"> </span><span class="hl-11">store</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-0">store</span><span class="hl-5">}</span><span class="hl-9">&gt;</span><br/><span class="hl-1">      </span><span class="hl-9">&lt;</span><span class="hl-8">RegistryProvider</span><span class="hl-1"> </span><span class="hl-11">registry</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-0">registry</span><span class="hl-5">}</span><span class="hl-9">&gt;</span><br/><span class="hl-1">        </span><span class="hl-5">{</span><span class="hl-10"> </span><span class="hl-1">...</span><span class="hl-10"> </span><span class="hl-5">}</span><span class="hl-1">   </span><br/><span class="hl-1">      </span><span class="hl-9">&lt;/</span><span class="hl-8">RegistryProvider</span><span class="hl-9">&gt;</span><br/><span class="hl-1">    </span><span class="hl-9">&lt;/</span><span class="hl-8">DataProvider</span><span class="hl-9">&gt;</span><br/><span class="hl-1">    </span><span class="hl-5">{</span><span class="hl-10"> </span><span class="hl-1">...</span><span class="hl-10"> </span><span class="hl-5">}</span><br/><span class="hl-1">  </span><span class="hl-9">&lt;&gt;</span><br/><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>If instead you want to run the data store and/or registry on the main thread, simply create and pass an instance directly to the provider.</p>
<p>For more information see the API docs.</p>
<a id="documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="/">Storybooks</a></li>
<li><a href="/docs">API docs</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#introduction"><span>Introduction</span></a><ul><li><a href="#overview"><span>Overview</span></a></li><li><ul><li><a href="#dependencies"><span>Dependencies</span></a></li></ul></li><li><a href="#install"><span>Install</span></a></li><li><a href="#configure"><span>Configure</span></a></li><li><a href="#documentation"><span>Documentation</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">videx-3d</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
